{"ast":null,"code":"export const rollDice = command => {\n  const match = command.match(/(\\d*)d(\\d+)([ad])?/);\n  if (!match) {\n    return {\n      result: 'Invalid command',\n      rolls: [],\n      total: 0\n    };\n  }\n  const [, numDice, numSides, modifier] = match;\n  const numberOfDice = numDice ? parseInt(numDice, 10) : 1;\n  const sides = parseInt(numSides, 10);\n  let rolls = [];\n  for (let i = 0; i < (modifier ? 2 : numberOfDice); i++) {\n    rolls.push(Math.floor(Math.random() * sides) + 1);\n  }\n  let total;\n  if (modifier === 'a') {\n    total = Math.max(...rolls);\n  } else if (modifier === 'd') {\n    total = Math.min(...rolls);\n  } else {\n    total = rolls.reduce((acc, val) => acc + val, 0);\n  }\n  return {\n    result: `Roll: ${rolls.join(', ')}`,\n    rolls,\n    total\n  };\n};","map":{"version":3,"names":["rollDice","command","match","result","rolls","total","numDice","numSides","modifier","numberOfDice","parseInt","sides","i","push","Math","floor","random","max","min","reduce","acc","val","join"],"sources":["C:/Users/sphins/Dropbox/htdocs/Projet/grimoire_guardians_full/grimoires-guardians-frontend/src/utils/diceRoller.js"],"sourcesContent":["export const rollDice = (command) => {\r\n    const match = command.match(/(\\d*)d(\\d+)([ad])?/);\r\n    if (!match) {\r\n        return { result: 'Invalid command', rolls: [], total: 0 };\r\n    }\r\n\r\n    const [, numDice, numSides, modifier] = match;\r\n    const numberOfDice = numDice ? parseInt(numDice, 10) : 1;\r\n    const sides = parseInt(numSides, 10);\r\n    let rolls = [];\r\n\r\n    for (let i = 0; i < (modifier ? 2 : numberOfDice); i++) {\r\n        rolls.push(Math.floor(Math.random() * sides) + 1);\r\n    }\r\n\r\n    let total;\r\n    if (modifier === 'a') {\r\n        total = Math.max(...rolls);\r\n    } else if (modifier === 'd') {\r\n        total = Math.min(...rolls);\r\n    } else {\r\n        total = rolls.reduce((acc, val) => acc + val, 0);\r\n    }\r\n\r\n    return { result: `Roll: ${rolls.join(', ')}`, rolls, total };\r\n};\r\n"],"mappings":"AAAA,OAAO,MAAMA,QAAQ,GAAIC,OAAO,IAAK;EACjC,MAAMC,KAAK,GAAGD,OAAO,CAACC,KAAK,CAAC,oBAAoB,CAAC;EACjD,IAAI,CAACA,KAAK,EAAE;IACR,OAAO;MAAEC,MAAM,EAAE,iBAAiB;MAAEC,KAAK,EAAE,EAAE;MAAEC,KAAK,EAAE;IAAE,CAAC;EAC7D;EAEA,MAAM,GAAGC,OAAO,EAAEC,QAAQ,EAAEC,QAAQ,CAAC,GAAGN,KAAK;EAC7C,MAAMO,YAAY,GAAGH,OAAO,GAAGI,QAAQ,CAACJ,OAAO,EAAE,EAAE,CAAC,GAAG,CAAC;EACxD,MAAMK,KAAK,GAAGD,QAAQ,CAACH,QAAQ,EAAE,EAAE,CAAC;EACpC,IAAIH,KAAK,GAAG,EAAE;EAEd,KAAK,IAAIQ,CAAC,GAAG,CAAC,EAAEA,CAAC,IAAIJ,QAAQ,GAAG,CAAC,GAAGC,YAAY,CAAC,EAAEG,CAAC,EAAE,EAAE;IACpDR,KAAK,CAACS,IAAI,CAACC,IAAI,CAACC,KAAK,CAACD,IAAI,CAACE,MAAM,CAAC,CAAC,GAAGL,KAAK,CAAC,GAAG,CAAC,CAAC;EACrD;EAEA,IAAIN,KAAK;EACT,IAAIG,QAAQ,KAAK,GAAG,EAAE;IAClBH,KAAK,GAAGS,IAAI,CAACG,GAAG,CAAC,GAAGb,KAAK,CAAC;EAC9B,CAAC,MAAM,IAAII,QAAQ,KAAK,GAAG,EAAE;IACzBH,KAAK,GAAGS,IAAI,CAACI,GAAG,CAAC,GAAGd,KAAK,CAAC;EAC9B,CAAC,MAAM;IACHC,KAAK,GAAGD,KAAK,CAACe,MAAM,CAAC,CAACC,GAAG,EAAEC,GAAG,KAAKD,GAAG,GAAGC,GAAG,EAAE,CAAC,CAAC;EACpD;EAEA,OAAO;IAAElB,MAAM,EAAG,SAAQC,KAAK,CAACkB,IAAI,CAAC,IAAI,CAAE,EAAC;IAAElB,KAAK;IAAEC;EAAM,CAAC;AAChE,CAAC","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}